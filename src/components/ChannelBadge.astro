---
import { Terminal, Zap, Eye, SignalLow } from "lucide-react";

interface Props {
    channel?: string;
}

const { channel } = Astro.props;

// Se não houver canal, usamos um fallback seguro ou retornamos null se preferir não mostrar nada.
// O prompt pediu um DEFAULT (Fallback), então vamos usar isso.
const currentChannel = channel || "default";

const channelConfig: Record<
    string,
    {
        style: string;
        label: string;
        Icon: any;
    }
> = {
    system_log: {
        style: "bg-emerald-950 text-emerald-400 border-emerald-500",
        label: "SYSTEM_LOG",
        Icon: Terminal,
    },
    distorcao: {
        style: "bg-[#ff4d00] text-white border-black",
        label: "DISTORÇÃO",
        Icon: Zap,
    },
    pixel_trash: {
        style: "bg-fuchsia-600 text-yellow-300 border-black",
        label: "PIXEL_TRASH",
        Icon: Eye,
    },
    default: {
        style: "bg-neutral-200 text-neutral-600 border-neutral-400",
        label: "SINAL_PERDIDO",
        Icon: SignalLow,
    },
};

const config = channelConfig[currentChannel] || channelConfig.default;
const { style, label, Icon } = config;
---

<div
    class={`inline-flex items-center gap-2 px-2 py-1 border-2 font-mono text-xs uppercase tracking-widest font-bold select-none ${style}`}
>
    <Icon className="w-3 h-3" />
    <span>{label}</span>
</div>
